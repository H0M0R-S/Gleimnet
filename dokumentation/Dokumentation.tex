%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Simple Sectioned Essay Template
% LaTeX Template
%
% This template has been downloaded from:
% http://www.latextemplates.com
%
% Note:
% The \lipsum[#] commands throughout this template generate dummy text
% to fill the template out. These commands should all be removed when 
% writing essay content.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass[12pt]{article} % Default font size is 12pt, it can be changed here

\usepackage[ngerman]{babel}
\usepackage[utf8]{inputenc}

\usepackage{geometry} % Required to change the page size to A4
\geometry{a4paper} % Set the page size to be A4 as opposed to the default US Letter

\usepackage{graphicx} % Required for including pictures

\usepackage{float} % Allows putting an [H] in \begin{figure} to specify the exact location of the figure
\usepackage{wrapfig} % Allows in-line images such as the example fish picture

\usepackage{lipsum} % Used for inserting dummy 'Lorem ipsum' text into the template

\linespread{1.2} % Line spacing

%\setlength\parindent{0pt} % Uncomment to remove all indentation from paragraphs

\graphicspath{{Pictures/}} % Specifies the directory where pictures are stored

\begin{document}

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\begin{titlepage}

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}} % Defines a new command for the horizontal lines, change thickness here

\center % Center everything on the page

\textsc{\LARGE Hochschule Harz\\Hochschule für angewandte Wissenschaften (FH)}\\[1.5cm] % Name of your university/college
\textsc{\Large Webprogrammierung mit Node.js und Angular}\\[0.5cm] % Major heading such as course name
%\textsc{\large Gleim.net}\\[0.5cm] % Minor heading such as course title

\HRule \\[0.4cm]
{ \huge \bfseries Gleim.net}\\[0.4cm] % Title of your document
\HRule \\[1.5cm]

\begin{minipage}{0.4\textwidth}
\begin{flushleft} \large
\emph{Authoren:}\\
Luisa \textsc{Drews}\\Hagen \textsc{Hasenbalg}\\ Christian \textsc{Schrebe} % Your name
\end{flushleft}
\end{minipage}
~
\begin{minipage}{0.4\textwidth}
\begin{flushright} \large
\emph{Dozent:} \\
Prof. Jürgen \textsc{Singer}, PH.D. % Supervisor's Name
\end{flushright}
\end{minipage}\\[4cm]

{\large \today}\\[3cm] % Date, change the \today to a set date if you want to be precise

%\includegraphics{Logo}\\[1cm] % Include a department/university logo - this will require the graphicx package

\vfill % Fill the rest of the page with whitespace

\end{titlepage}

%----------------------------------------------------------------------------------------
%	TABLE OF CONTENTS
%----------------------------------------------------------------------------------------

\tableofcontents % Include a table of contents

\newpage % Begins the essay on a new page instead of on the same page as the table of contents

%----------------------------------------------------------------------------------------
%	INTRODUCTION
%----------------------------------------------------------------------------------------

\section{Beschreibung} % Major section

Das GleimNet ist ein soziales Netzwerk, welches im Gleimhaus in Halberstadt eingesetzt werden soll, um im Rahmen von Workshops dazu genutzt werden soll, Schülern Medienkompetenz zu vermitteln. Dafür agieren die Schüler in der Rolle einer historischen Person zur Zeit von Johann Wilhelm Ludwig Gleim.
Die erste Version von GleimNet basiert auf Diaspora, das sich aber in der Praxis als ungeeignet erwies.

Im GleimNet sind folgende Funktionen umgesetzt:

\subsection{Profile}

Jeder Nutzer kann sich mit einem Nutzernamen und dazugehörigem  Passwort anmelden. Das Profil eines jeden Nutzers umfasst seinen Vor- und Nachnamen, sein Geburtsdatum, sein Profilbild, seine Beschreibung und seine Freundesliste. Der Nachname kann außerdem als Nutzername dienen. Auf der Profilseite des Nutzers befindet sich seine Timeline.

Die Timeline enthält Textpostings, Bilder und Links, welche der Nutzer selbst, oder seine Freunde, erstellen können. Ebenso können die Beiträge von Nutzern kommentiert werden.

\subsection{Freundschaften}

Zwischen den Nutzern können Freundschaften geschlossen werden, in dem ein Nutzer einem anderen eine Freundschaftsanfrage stellt und derjenige, der sie erhält, diese beantwortet. Bestätigte Freunde sind in der Freundesliste zu finden.

\subsection{Chat}
Nutzer können mit einem einzelnen anderen Nutzer oder einer Gruppe von Nutzern Nachrichten austauschen. Diese Nachrichten können aus Text, Bildern und Links bestehen.

\subsection{Ex- und Import}
Die Mitarbeitern des Gleimhaus können den aktuellen Zustand des Netzwerks exportieren und speichern um diese Datei zu einem späteren Zeitpunkt wieder importieren können.
%------------------------------------------------

\section{Technologiewahl}
Teil der Aufgabe war es den MEAN-Stack zu benutzen. Wir haben 
\subsection{Node.js}
\subsection{MongoDB}
\subsection{Hapi.js}
Hapi.js ist wie Express ein Webserver-Framework auf Basis von Node.js. Die Stärken von diesem Framework ist, es, dass esdie Programmierung sehr modular erfolgt. Logische zusammenpassende Routen werden als ein Modul in Hapi.js registriert. So ist es zum Beispiel möglich durch ein Autentifizierungsmodul die An- und Abmeldung ein und auszuschalten.
\subsection{Frame}
Frame(https://github.com/jedireza/frame) stellt für die Entwicklung einer API eine Gute Struktur bereit. Zudem benutzt es als Basis das Webserver Framework Hapi.js. für die Modellerung der Datenbankmodels wird die bei MongoDB meist verwendet Toolset Mongoose verwendet. In diesem Fall dass Implementierung in hapi.js.

Der Hauptgrund für die Entscheidung für Frame war das es eine funktionierende Kombination von verschiedenen node-Modulen bietet.
\subsection{Angular 2}


%------------------------------------------------

\section{Probleme} 

\subsection{Callbacks}
Callbacks sind die Hölle!

\subsection{MongoDB und Treiber}
Der offizelle MongoDB Treiber unterstützt vile sinnvole Aktionen, wie z.B das ersetzen von einer Referenz auf ein Object durch das Object selbst. Leider unterstützt der Objectmapper Mongoose diese zum Teil nicht, sodass diese durch vermehrte Abfragen kombiniert mit map Verfahren und vielen verschachtelten Callbacks ersetzt werden mussten. 

\subsection{Beta-Version von Angular 2}
Die am Anfang benutzte Version von Angular2-beta0 hatte ein paar Fehler, die später gefixt wurden. Nur die Fehler zu finden, , wenn diese von fehlerhafter Software entstehen, ist nicht sehr einfach.


\section{Anwendung Gleimnet}
\subsection{Abhängigkeiten}
Auf dem System sollen mindestens NodeJS 5.5.0 und MongoDB 3.2.0 installert sein.
\subsection{Installation}
\begin{enumerate}
\item Mongo DB starten
\item npm install
\item node setup.js
\item npm start
\end{enumerate}

Jetzt könnnen entweder neue User über \textbf{node create-user.js} oder über das Admin-Panel über \textbf{/admin} im Webbrowser aufgerufen werden.

\subsection{Webanwendung}
\subsubsection{Administration}
Die Administration wird über /admin aufgerufen. Dort meldet sich der Administrator mittel vorher erstellten Account an. Dies wird mittel Cookies realisiert. 

Im Admin-Panel können neue Gruppen aus einer Initialkonfiguration erstellen werden, die aktuelle Sitzung gespeichert werden oder vorherige Sitzungen geladen werden.

Diese Konfigurationen werden als ExtendedJSON(EJSON) gespeichert, damit die von MongoDB gehaltenen Typen wieder hergestellt werden können.

\section{API}
Die Dokumentation zur API ist im seperaten pdf zu finden oder bei laufenden Gleimnet unter /api-dokumentation/index.html zu finden.



%-----------------------------------------------
%----------------------------------------------------------------------------------------

\section{Zusammenfassung} 


%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------

\begin{thebibliography}{99} % Bibliography - this is intentionally simple in this template


\end{thebibliography}

%----------------------------------------------------------------------------------------

\end{document}